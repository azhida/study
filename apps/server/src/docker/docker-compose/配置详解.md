# docker compose 配置详解

## docker-compose.yaml

::: details docker-compose.yaml

<<< ./demo-dir/docker-compose.yaml

:::

## Dockerfile.ubuntu

::: details Dockerfile.ubuntu

<<< ./demo-dir/Dockerfile.ubuntu

:::

## `node:latest` 和 `node:alpine` 的区别

### `node:latest`

- 基于 Debian 的，体积较大，但是功能齐全，适合开发环境。
- 用 `apt` 做包管理器。
- `node:latest` apt 换源：


```sh
# 查看 apt 源配置文件路径
ls /etc/apt/sources.list.d/
# debian.sources
# /etc/apt/sources.list.d/debian.sources

# 查看 apt 源配置文件内容
cat /etc/apt/sources.list.d/debian.sources

# 修改 apt 源配置文件内容： http://deb.debian.org 改 http://mirrors.aliyun.com
sed -i "s@http://deb.debian.org@http://mirrors.aliyun.com@g" /etc/apt/sources.list.d/debian.sources
```

### `node:alpine`

- 基于 Alpine 的，体积较小，但是功能可能不全，适合生产环境。
- 用 `apk` 做包管理器。
- `node:alpine` apk 换源：


```sh
# 查看 apk 源配置文件路径
ls /etc/apk/repositories
# /etc/apk/repositories

# 查看 apk 源配置文件内容
cat /etc/apk/repositories

# 换源指令
sed -i "s@https://dl-cdn.alpinelinux.org@http://mirrors.aliyun.com@g" /etc/apk/repositories
```