import{_ as s,o as a,c as n,Q as o}from"./chunks/framework.aaef0e9b.js";const D=JSON.parse('{"title":"MongoDB","description":"","frontmatter":{},"headers":[],"relativePath":"database/MongoDB/index.md","lastUpdated":1710149091000}'),l={name:"database/MongoDB/index.md"},e=o(`<h1 id="mongodb" tabindex="-1">MongoDB <a class="header-anchor" href="#mongodb" aria-label="Permalink to &quot;MongoDB&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>MongoDB是一个跨平台的，面向文档的数据库，可提供高性能，高可用性和易扩展性。MongoDB致力于收集和文档的概念。</p><ul><li>官网</li></ul><p><a href="https://www.mongodb.com" target="_blank" rel="noreferrer">https://www.mongodb.com</a></p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ul><li>下载地址</li></ul><p><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noreferrer">https://www.mongodb.com/try/download/community</a></p><h3 id="windows-环境" tabindex="-1">windows 环境 <a class="header-anchor" href="#windows-环境" aria-label="Permalink to &quot;windows 环境&quot;">​</a></h3><ul><li>下载地址 windows</li></ul><p><a href="https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.6-signed.msi" target="_blank" rel="noreferrer">https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.6-signed.msi</a></p><ul><li>安装目录</li></ul><p><code>D:\\MongoDB\\Server\\7.0</code></p><h4 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h4><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 管理员身份运行 CMD</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 启动 MongoDB 服务</span></span>
<span class="line"><span style="color:#FFCB6B;">net</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">start</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">MongoDB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 停止 MongoDB 服务</span></span>
<span class="line"><span style="color:#FFCB6B;">net</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">stop</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">MongoDB</span></span>
<span class="line"></span></code></pre></div><h3 id="docker-环境" tabindex="-1">docker 环境 <a class="header-anchor" href="#docker-环境" aria-label="Permalink to &quot;docker 环境&quot;">​</a></h3><ul><li>文档：<a href="https://www.mongodb.com/docs/manual/tutorial/install-mongodb-community-with-docker/" target="_blank" rel="noreferrer">https://www.mongodb.com/docs/manual/tutorial/install-mongodb-community-with-docker/</a></li></ul><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">pull</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongodb/mongodb-community-server</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># –auth：访问mongo需要鉴权(账号密码访问),这个参数要放在最后面，否则会报错</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">27017</span><span style="color:#C3E88D;">:27017</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongodb/mongodb-community-server:latest</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--auth</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">run</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">--name</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">27017</span><span style="color:#C3E88D;">:27017</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongodb/mongodb-community-server:latest</span></span>
<span class="line"></span></code></pre></div><h2 id="创建mongodb用户" tabindex="-1">创建MongoDB用户 <a class="header-anchor" href="#创建mongodb用户" aria-label="Permalink to &quot;创建MongoDB用户&quot;">​</a></h2><h4 id="创建用户" tabindex="-1">创建用户 <a class="header-anchor" href="#创建用户" aria-label="Permalink to &quot;创建用户&quot;">​</a></h4><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 进入容器内部的命令行</span></span>
<span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-it</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongo</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mongosh</span></span>
<span class="line"></span></code></pre></div><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 以下命令是在 mongosh 命令行执行</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 创建用户</span></span>
<span class="line"><span style="color:#FFCB6B;">db.createUser(</span><span style="color:#BABED8;">{ </span><span style="color:#C3E88D;">user:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">admin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,pwd:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,roles:[</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">{</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">role:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">userAdminAnyDatabase</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">db:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">admin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">}]}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># { ok: 1 }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># 验证用户</span></span>
<span class="line"><span style="color:#FFCB6B;">db.auth(</span><span style="color:#BABED8;">{user: </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">admin</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">,</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">pwd:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">123456</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># { ok: 1 }</span></span>
<span class="line"></span></code></pre></div><h2 id="mongo-用户权限" tabindex="-1">mongo 用户权限 <a class="header-anchor" href="#mongo-用户权限" aria-label="Permalink to &quot;mongo 用户权限&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">read：允许用户读取指定数据库</span></span>
<span class="line"><span style="color:#babed8;">readWrite：允许用户读写指定数据库</span></span>
<span class="line"><span style="color:#babed8;">dbAdmin：允许用户在指定数据库中执行管理函数，如索引创建、删除、查看统计或访问system.profile</span></span>
<span class="line"><span style="color:#babed8;">dbOwner：允许用户在指定数据库中执行任意操作，增、删、改、查等</span></span>
<span class="line"><span style="color:#babed8;">clusterAdmin：只在admin数据库中可用，赋予用户所有分片和复制集相关函数的管理权限</span></span>
<span class="line"><span style="color:#babed8;">readAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读权限</span></span>
<span class="line"><span style="color:#babed8;">readWriteAnyDatabase：只在admin库中可用，赋予用户所有数据库的读权限</span></span>
<span class="line"><span style="color:#babed8;">userAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库userAdmin权限</span></span>
<span class="line"><span style="color:#babed8;">dbAdminAnyDatabase: 只在admin数据库中可用，赋予用户所有数据库dbAdmin权限</span></span>
<span class="line"><span style="color:#babed8;">root：只在admin数据库中可用。超级管理员用户，超级权限</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="laravel-中集成-mongodb" tabindex="-1">laravel 中集成 mongodb <a class="header-anchor" href="#laravel-中集成-mongodb" aria-label="Permalink to &quot;laravel 中集成 mongodb&quot;">​</a></h2><ul><li>文档：<a href="https://www.mongodb.com/docs/drivers/php-drivers/" target="_blank" rel="noreferrer">https://www.mongodb.com/docs/drivers/php-drivers/</a></li><li>mongodb 扩展：<a href="https://www.php.net/manual/en/mongodb.installation.pecl.php" target="_blank" rel="noreferrer">https://www.php.net/manual/en/mongodb.installation.pecl.php</a></li><li>mongodb 扩展：<a href="https://github.com/mongodb/mongo-php-driver/releases" target="_blank" rel="noreferrer">https://github.com/mongodb/mongo-php-driver/releases</a></li><li>mongodb 扩展(windows php8.2)：<a href="https://github.com/mongodb/mongo-php-driver/releases/download/1.17.2/php_mongodb-1.17.2-8.2-nts-x64.zip" target="_blank" rel="noreferrer">https://github.com/mongodb/mongo-php-driver/releases/download/1.17.2/php_mongodb-1.17.2-8.2-nts-x64.zip</a></li></ul>`,26),p=[e];function t(r,c,i,d,y,m){return a(),n("div",null,p)}const b=s(l,[["render",t]]);export{D as __pageData,b as default};
