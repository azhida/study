import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.aaef0e9b.js";const E=JSON.parse('{"title":"MySQL 基础操作笔记","description":"","frontmatter":{},"headers":[],"relativePath":"database/mysql/基础操作笔记.md","lastUpdated":1687941204000}'),e={name:"database/mysql/基础操作笔记.md"},p=l(`<h1 id="mysql-基础操作笔记" tabindex="-1">MySQL 基础操作笔记 <a class="header-anchor" href="#mysql-基础操作笔记" aria-label="Permalink to &quot;MySQL 基础操作笔记&quot;">​</a></h1><h2 id="json字段创建虚拟列" tabindex="-1">json字段创建虚拟列 <a class="header-anchor" href="#json字段创建虚拟列" aria-label="Permalink to &quot;json字段创建虚拟列&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;"># orders.shipping_address 是json类型，包含 phone 字段</span></span>
<span class="line"><span style="color:#babed8;">alter table orders add v_shipping_address_phone varchar(20) generated always as (JSON_UNQUOTE(shipping_address-&gt;&#39;$.phone&#39;));</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"># 查询 v_shipping_address_phone</span></span>
<span class="line"><span style="color:#babed8;">select * FROM orders where v_shipping_address_phone = &#39;13100000000&#39;;</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="mysql批量替换某个字段中的部分数据" tabindex="-1">MYSQL批量替换某个字段中的部分数据 <a class="header-anchor" href="#mysql批量替换某个字段中的部分数据" aria-label="Permalink to &quot;MYSQL批量替换某个字段中的部分数据&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;"># UPDATE 表名test SET 字段data = replace(字段data, ‘aaa’, ‘bbb’) WHERE 条件语句;</span></span>
<span class="line"><span style="color:#babed8;">UPDATE test SET \`data\` = REPLACE(\`data\`,&#39;aaa&#39;, &#39;bbb&#39;) WHERE id IN (7, 8, 9);</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="存储引擎" tabindex="-1">存储引擎 <a class="header-anchor" href="#存储引擎" aria-label="Permalink to &quot;存储引擎&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;"># 查看 存储引擎信息，Support = YSE 说明 支持该引擎，Support = DEFAULT 说明 该引擎为默认存储引擎</span></span>
<span class="line"><span style="color:#babed8;">SHOW ENGINES;</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"># 设置InnoDB为默认引擎：在配置文件my.ini中的 [mysqld] 下面加入default-storage-engine=INNODB</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="手动清理binlog" tabindex="-1">手动清理binlog <a class="header-anchor" href="#手动清理binlog" aria-label="Permalink to &quot;手动清理binlog&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;"># 查看主库和从库正在使用的binlog是哪个文件</span></span>
<span class="line"><span style="color:#babed8;">show master status;</span></span>
<span class="line"><span style="color:#babed8;">show slave status;</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"># 删除指定日期以前的日志索引中binlog日志文件</span></span>
<span class="line"><span style="color:#babed8;">purge master logs before &#39;2016-09-01 17:20:00&#39;;</span></span>
<span class="line"><span style="color:#babed8;"># 删除指定日志文件的日志索引前所有binlog日志文件【删除 日志索引 小于 000022 的所有日志文件】</span></span>
<span class="line"><span style="color:#babed8;">purge master logs to &#39;mysql-bin.000022&#39;</span></span>
<span class="line"><span style="color:#babed8;"></span></span>
<span class="line"><span style="color:#babed8;"># 注意：</span></span>
<span class="line"><span style="color:#babed8;"># 时间和文件名一定不可以写错，尤其是时间中的年和文件名中的序号，以防不小心将正在使用的binlog删除！！！</span></span>
<span class="line"><span style="color:#babed8;"># 切勿删除正在使用的binlog！！！</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="将表a查询出来的数据插入到表b中" tabindex="-1">将表A查询出来的数据插入到表B中 <a class="header-anchor" href="#将表a查询出来的数据插入到表b中" aria-label="Permalink to &quot;将表A查询出来的数据插入到表B中&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">INSERT into B (字段1,字段2,字段3.......)</span></span>
<span class="line"><span style="color:#babed8;">SELECT 字段1,字段2,字段3....... FROM A </span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="数据库备份" tabindex="-1">数据库备份 <a class="header-anchor" href="#数据库备份" aria-label="Permalink to &quot;数据库备份&quot;">​</a></h2><div class="language-sh"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">mysqldump</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-h</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">127.0</span><span style="color:#C3E88D;">.0.1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">数据库名</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">文件名.sql</span></span>
<span class="line"><span style="color:#FFCB6B;">mysqldump</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-h</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">127.0</span><span style="color:#C3E88D;">.0.1</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-u</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">root</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> </span><span style="color:#C3E88D;">mysql.sql</span></span>
<span class="line"></span></code></pre></div>`,13),o=[p];function t(c,r,i,d,b,y){return a(),n("div",null,o)}const g=s(e,[["render",t]]);export{E as __pageData,g as default};
