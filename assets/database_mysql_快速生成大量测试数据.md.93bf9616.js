import{_ as s,o as a,c as n,Q as l}from"./chunks/framework.aaef0e9b.js";const i=JSON.parse('{"title":"快速生成大量测试数据","description":"","frontmatter":{},"headers":[],"relativePath":"database/mysql/快速生成大量测试数据.md","lastUpdated":1683706342000}'),p={name:"database/mysql/快速生成大量测试数据.md"},o=l(`<h1 id="快速生成大量测试数据" tabindex="-1">快速生成大量测试数据 <a class="header-anchor" href="#快速生成大量测试数据" aria-label="Permalink to &quot;快速生成大量测试数据&quot;">​</a></h1><h2 id="创建数据表" tabindex="-1">创建数据表 <a class="header-anchor" href="#创建数据表" aria-label="Permalink to &quot;创建数据表&quot;">​</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">drop</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">table</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">if</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">table_name</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">CREATE</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">TABLE</span><span style="color:#BABED8;">  \`</span><span style="color:#82AAFF;">table_name</span><span style="color:#BABED8;">\`(</span></span>
<span class="line"><span style="color:#BABED8;">  id </span><span style="color:#C792EA;">int</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">NOT NULL</span><span style="color:#BABED8;"> AUTO_INCREMENT </span><span style="color:#C792EA;">PRIMARY KEY</span><span style="color:#BABED8;"> comment </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">主键</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#BABED8;">  user_id </span><span style="color:#F78C6C;">tinyint</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#BABED8;"> comment </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">  user_name </span><span style="color:#C792EA;">varchar</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">30</span><span style="color:#BABED8;">) comment </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">用户名称</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">  created_at </span><span style="color:#F78C6C;">datetime</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">not null</span><span style="color:#BABED8;"> comment </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">创建时间</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">, </span></span>
<span class="line"><span style="color:#BABED8;">  updated_at </span><span style="color:#F78C6C;">datetime</span><span style="color:#BABED8;"> comment </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">修改时间</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#BABED8;">) comment </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">数据表名称</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="插入第一条数据" tabindex="-1">插入第一条数据 <a class="header-anchor" href="#插入第一条数据" aria-label="Permalink to &quot;插入第一条数据&quot;">​</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">table_name</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">values</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">, </span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">, </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user_1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">, </span><span style="color:#F78C6C;">Now</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;">, </span><span style="color:#F78C6C;">Now</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;">);</span></span>
<span class="line"></span></code></pre></div><h2 id="读取当前表-table-name-的数据-并批量插入" tabindex="-1">读取当前表 <code>table_name</code> 的数据，并批量插入 <a class="header-anchor" href="#读取当前表-table-name-的数据-并批量插入" aria-label="Permalink to &quot;读取当前表 \`table_name\` 的数据，并批量插入&quot;">​</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">set</span><span style="color:#BABED8;"> @i</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">(</span><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">MAX</span><span style="color:#BABED8;">(id) </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">table_name</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">);</span></span>
<span class="line"><span style="color:#F78C6C;">insert into</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">table_name</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">(id, user_id, user_name, created_at, updated_at) </span></span>
<span class="line"><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> @i:</span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;">@i</span><span style="color:#89DDFF;">+</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">left</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">rand</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">10</span><span style="color:#BABED8;">,</span><span style="color:#F78C6C;">1</span><span style="color:#BABED8;">) </span><span style="color:#F78C6C;">as</span><span style="color:#BABED8;"> user_id,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#82AAFF;">concat</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;">,@i%</span><span style="color:#F78C6C;">2048</span><span style="color:#BABED8;">),</span></span>
<span class="line"><span style="color:#BABED8;">  date_add(created_at, interval </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> @i</span><span style="color:#89DDFF;">*</span><span style="color:#82AAFF;">cast</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">rand</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">as</span><span style="color:#BABED8;"> signed) </span><span style="color:#F78C6C;">SECOND</span><span style="color:#BABED8;">),</span></span>
<span class="line"><span style="color:#BABED8;">  date_add(date_add(updated_at, interval </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> @i</span><span style="color:#89DDFF;">*</span><span style="color:#82AAFF;">cast</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">rand</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">100</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">as</span><span style="color:#BABED8;"> signed) </span><span style="color:#F78C6C;">SECOND</span><span style="color:#BABED8;">), interval </span><span style="color:#89DDFF;">+</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">cast</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">rand</span><span style="color:#BABED8;">()</span><span style="color:#89DDFF;">*</span><span style="color:#F78C6C;">1000000</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">as</span><span style="color:#BABED8;"> signed) </span><span style="color:#F78C6C;">SECOND</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">table_name</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span></code></pre></div><h2 id="查看最大id" tabindex="-1">查看最大ID <a class="header-anchor" href="#查看最大id" aria-label="Permalink to &quot;查看最大ID&quot;">​</a></h2><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">MAX</span><span style="color:#BABED8;">(id) </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">table_name</span><span style="color:#89DDFF;">\`</span><span style="color:#BABED8;">;</span></span>
<span class="line"></span></code></pre></div>`,9),e=[o];function t(c,r,y,D,B,F){return a(),n("div",null,e)}const C=s(p,[["render",t]]);export{i as __pageData,C as default};
