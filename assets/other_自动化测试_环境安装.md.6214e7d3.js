import{_ as a,o as s,c as e,Q as n}from"./chunks/framework.aaef0e9b.js";const h=JSON.parse('{"title":"自动化测试-环境安装","description":"","frontmatter":{},"headers":[],"relativePath":"other/自动化测试/环境安装.md","lastUpdated":1686563424000}'),o={name:"other/自动化测试/环境安装.md"},l=n(`<h1 id="自动化测试-环境安装" tabindex="-1">自动化测试-环境安装 <a class="header-anchor" href="#自动化测试-环境安装" aria-label="Permalink to &quot;自动化测试-环境安装&quot;">​</a></h1><p>Python+Appium+夜神模拟器</p><h2 id="安装-java-jdk" tabindex="-1">安装 Java JDK <a class="header-anchor" href="#安装-java-jdk" aria-label="Permalink to &quot;安装 Java JDK&quot;">​</a></h2><p>下载页面： <a href="https://www.oracle.com/cn/java/technologies/downloads/#sjre8-windows" target="_blank" rel="noreferrer">https://www.oracle.com/cn/java/technologies/downloads/#sjre8-windows</a></p><p>下载地址： <a href="https://www.oracle.com/cn/java/technologies/downloads/#license-lightbox" target="_blank" rel="noreferrer">https://www.oracle.com/cn/java/technologies/downloads/#license-lightbox</a></p><ul><li>配置 环境变量/系统变量</li></ul><p><code>JAVA_HOME</code>: <code>C:\\ruanjian\\Java\\jre-1.8</code></p><p><code>path</code> 添加： <code>C:\\ruanjian\\Java\\jre-1.8\\bin</code></p><ul><li>检测 java 环境</li></ul><p>新开 cmd 输入</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">java -version</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><p>输出</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">java version &quot;1.8.0_371&quot;</span></span>
<span class="line"><span style="color:#babed8;">Java(TM) SE Runtime Environment (build 1.8.0_371-b11)</span></span>
<span class="line"><span style="color:#babed8;">Java HotSpot(TM) 64-Bit Server VM (build 25.371-b11, mixed mode)</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="安装-android-sdk" tabindex="-1">安装 Android SDK <a class="header-anchor" href="#安装-android-sdk" aria-label="Permalink to &quot;安装 Android SDK&quot;">​</a></h2><p>官网： <a href="https://www.androiddevtools.cn/" target="_blank" rel="noreferrer">https://www.androiddevtools.cn/</a></p><p>下载地址：</p><p><code>exe</code>: <a href="https://dl.google.com/android/installer_r24.4.1-windows.exe?utm_source=androiddevtools&amp;utm_medium=website" target="_blank" rel="noreferrer">https://dl.google.com/android/installer_r24.4.1-windows.exe?utm_source=androiddevtools&amp;utm_medium=website</a></p><p><code>zip</code>: <a href="https://dl.google.com/android/android-sdk_r24.4.1-windows.zip?utm_source=androiddevtools&amp;utm_medium=website" target="_blank" rel="noreferrer">https://dl.google.com/android/android-sdk_r24.4.1-windows.zip?utm_source=androiddevtools&amp;utm_medium=website</a></p><ul><li>环境变量</li></ul><p><code>ANDROID_HOME</code>: <code>D:\\ruanjian\\android-sdk-windows</code></p><p><code>path</code> 添加：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">D:\\ruanjian\\android-sdk-windows\\platform-tools</span></span>
<span class="line"><span style="color:#babed8;">D:\\ruanjian\\android-sdk-windows\\tools</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>下载相关包</li></ul><p>点击 <code>D:\\ruanjian\\android-sdk-windows\\SDK Manager.exe</code></p><h2 id="安装-pycharm" tabindex="-1">安装 pycharm <a class="header-anchor" href="#安装-pycharm" aria-label="Permalink to &quot;安装 pycharm&quot;">​</a></h2><p>直接在 pycharm 里面做 python 环境即可</p><p>pycharm 下载地址： <a href="https://www.jetbrains.com/pycharm/download/#section=windows" target="_blank" rel="noreferrer">https://www.jetbrains.com/pycharm/download/#section=windows</a></p><p>Community 社区版免费！</p><h2 id="安装-appium" tabindex="-1">安装 Appium <a class="header-anchor" href="#安装-appium" aria-label="Permalink to &quot;安装 Appium&quot;">​</a></h2><p>使用appium-desktop来搭建Appium-Server环境；appium-desktop是连接appium服务的桌面应用，可以方便测试人员进行连接手机，录制脚本等工作。</p><p><a href="https://github.com/appium/appium-desktop/releases" target="_blank" rel="noreferrer">https://github.com/appium/appium-desktop/releases</a></p><p>下载 <a href="https://github.com/appium/appium-desktop/releases/download/v1.22.3-4/Appium-Server-GUI-windows-1.22.3-4.exe" target="_blank" rel="noreferrer">Appium-Server-GUI-windows-1.22.3-4.exe</a></p><ul><li>点击 <code>Edit Configurations</code> 进行基础配置 <ol><li><code>ANDROID_HOME</code>: <code>D:\\ruanjian\\android-sdk-windows</code></li><li><code>JAVA_HOME</code>: <code>C:\\ruanjian\\Java\\jre-1.8</code></li></ol></li></ul><h3 id="配置-appium-desktop" tabindex="-1">配置 Appium desktop <a class="header-anchor" href="#配置-appium-desktop" aria-label="Permalink to &quot;配置 Appium desktop&quot;">​</a></h3><p>参考： <a href="https://www.jianshu.com/p/2d48cca6e620?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation" target="_blank" rel="noreferrer">Appium app自动化测试环境搭建完整版（内网）</a></p><p>Appium 服务启动后，在 主页面 点击 三个按钮中类似 搜索图标 的按钮，进入 配置页面</p><ul><li>配置 <code>Desired Capabilities</code> 项</li></ul><div class="language-json"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">automationName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">appium</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 自动化方案名称(固定 appium)</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">platformName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Android</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 平台：Android 或 ios </span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">platformVersion</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">7.1.2</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 平台系统版本：此处 Android7.1.2</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">deviceName</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">127.0.0.1:62001 device</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 连接的 adb </span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">appPackage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.douguo.recipe</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 应用包名</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">appActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.douguo.recipe/.MainActivity</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 应用启动页</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">autoAcceptAlerts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">true</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 对权限弹窗进行授权</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C792EA;">app</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">D:</span><span style="color:#BABED8;">\\\\</span><span style="color:#C3E88D;">ruanjian</span><span style="color:#BABED8;">\\\\</span><span style="color:#C3E88D;">apps</span><span style="color:#BABED8;">\\\\</span><span style="color:#C3E88D;">dgms.apk</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;"> </span><span style="color:#676E95;font-style:italic;">// 应用 apk 地址</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre></div><ul><li>查看安卓版本号</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">adb shell getprop ro.build.version.release</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>查看连接的 adb</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">adb devices</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>查看包名</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">aapt dump badging D:\\ruanjian\\apps\\dgms.apk</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>查看应用启动页</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">adb shell monkey -p com.douguo.recipe -v -v -v 1 | findstr &quot;cmp=&quot;</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="安装-夜神模拟器" tabindex="-1">安装 夜神模拟器 <a class="header-anchor" href="#安装-夜神模拟器" aria-label="Permalink to &quot;安装 夜神模拟器&quot;">​</a></h2><ul><li>官网</li></ul><p><a href="https://www.yeshen.com/" target="_blank" rel="noreferrer">https://www.yeshen.com/</a></p><ul><li>安装路径</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">D:\\Program Files\\Nox</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>用 安卓 SDK 的 <code>adb</code> 替换 夜神模拟器的 <code>adb</code></li></ul><p>安卓 SDK adb ： <code>D:\\ruanjian\\android-sdk-windows\\platform-tools\\adb.exe</code></p><p>夜神模拟器的 <code>adb</code> :</p><ul><li><code>D:\\Program Files\\Nox\\bin\\adb.exe</code></li><li><code>D:\\Program Files\\Nox\\bin\\nox_adb.exe</code></li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">cp D:\\ruanjian\\android-sdk-windows\\platform-tools\\adb.exe D:\\Program Files\\Nox\\bin\\adb.exe</span></span>
<span class="line"><span style="color:#babed8;">cp D:\\ruanjian\\android-sdk-windows\\platform-tools\\adb.exe D:\\Program Files\\Nox\\bin\\nox_adb.exe</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>检测 adb 是否连接成功</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">adb devices</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><p>成功会输出如下：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">List of devices attached</span></span>
<span class="line"><span style="color:#babed8;">127.0.0.1:62001 device</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><ul><li>连接夜神模拟器设备</li></ul><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">adb connect 127.0.0.1:62001</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="安装-appium-python-client" tabindex="-1">安装 Appium-Python-Client <a class="header-anchor" href="#安装-appium-python-client" aria-label="Permalink to &quot;安装 Appium-Python-Client&quot;">​</a></h2><p>appium-desktop 和 模拟机 连接时，可以通过录制，进行操作模拟机，然后，把录制脚本转化为正式python脚本，可以复制到pycharm编辑器中，通过appium-python-client这个驱动来自动化模拟机。脚本在pycharm中运行，通过appium-server来操作模拟机。</p><p>python 环境下执行：</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">pip install Appium-Python-Client </span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h2><p><a href="https://blog.csdn.net/L_980317/article/details/128076185" target="_blank" rel="noreferrer">Python+Appium+夜神模拟器 全流程从环境搭建到实现自动化（APP自动化）</a></p><p><a href="https://www.jianshu.com/p/2d48cca6e620?utm_campaign=maleskine&amp;utm_content=note&amp;utm_medium=seo_notes&amp;utm_source=recommendation" target="_blank" rel="noreferrer">Appium app自动化测试环境搭建完整版（内网）</a></p>`,69),p=[l];function t(c,r,i,d,u,y){return s(),e("div",null,p)}const D=a(o,[["render",t]]);export{h as __pageData,D as default};
