import{_ as a,o as s,c as e,Q as n}from"./chunks/framework.aaef0e9b.js";const m=JSON.parse('{"title":"设置Docker容器时间与宿主机同步","description":"","frontmatter":{},"headers":[],"relativePath":"server/docker/Docker设置容器时间与宿主机同步.md","lastUpdated":1680584985000}'),l={name:"server/docker/Docker设置容器时间与宿主机同步.md"},o=n(`<h1 id="设置docker容器时间与宿主机同步" tabindex="-1">设置Docker容器时间与宿主机同步 <a class="header-anchor" href="#设置docker容器时间与宿主机同步" aria-label="Permalink to &quot;设置Docker容器时间与宿主机同步&quot;">​</a></h1><h2 id="方法一-初始化容器时-容器时间与宿主机同步" tabindex="-1">方法一：初始化容器时，容器时间与宿主机同步 <a class="header-anchor" href="#方法一-初始化容器时-容器时间与宿主机同步" aria-label="Permalink to &quot;方法一：初始化容器时，容器时间与宿主机同步&quot;">​</a></h2><p>使用docker run运行容器时，添加如下参数</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">-v /etc/localtime:/etc/localtime:ro</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><p>例如设置mysql容器时间与宿主机同步</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">docker run --restart=unless-stopped -d \\</span></span>
<span class="line"><span style="color:#babed8;">--name mysql_ys_ywzx \\</span></span>
<span class="line"><span style="color:#babed8;">-v /mysoft/mysql/ywzx/3306/conf/my.cnf:/etc/mysql/my.cnf \\</span></span>
<span class="line"><span style="color:#babed8;">-v /mysoft/mysql/ywzx/3306/data:/var/lib/mysql \\</span></span>
<span class="line"><span style="color:#babed8;">-v /mysoft/mysql/ywzx/3306/mysql-files:/var/lib/mysql-files/ \\</span></span>
<span class="line"><span style="color:#babed8;">-v /etc/localtime:/etc/localtime:ro \\</span></span>
<span class="line"><span style="color:#babed8;">-p 3306:3306 \\</span></span>
<span class="line"><span style="color:#babed8;">-e MYSQL_ROOT_PASSWORD=自定义密码 \\</span></span>
<span class="line"><span style="color:#babed8;">mysql:8.0.27</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div><h2 id="方法二-正在运行的容器-容器时间与宿主机同步" tabindex="-1">方法二：正在运行的容器，容器时间与宿主机同步 <a class="header-anchor" href="#方法二-正在运行的容器-容器时间与宿主机同步" aria-label="Permalink to &quot;方法二：正在运行的容器，容器时间与宿主机同步&quot;">​</a></h2><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#babed8;">docker cp -L /usr/share/zoneinfo/Asia/Shanghai  【容器名称】:/etc/localtime</span></span>
<span class="line"><span style="color:#babed8;"># 例如mysql的容器名称为mysql_ys_ywzx</span></span>
<span class="line"><span style="color:#babed8;">docker cp -L /usr/share/zoneinfo/Asia/Shanghai mysql_ys_ywzx:/etc/localtime</span></span>
<span class="line"><span style="color:#babed8;"></span></span></code></pre></div>`,8),c=[o];function t(p,r,i,d,y,_){return s(),e("div",null,c)}const h=a(l,[["render",t]]);export{m as __pageData,h as default};
