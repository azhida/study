import{_ as s,o as a,c as l,Q as n}from"./chunks/framework.aaef0e9b.js";const C=JSON.parse('{"title":"Laravel 性能优化","description":"","frontmatter":{},"headers":[],"relativePath":"server/php/laravel/优化.md","lastUpdated":1683703151000}'),p={name:"server/php/laravel/优化.md"},o=n('<h1 id="laravel-性能优化" tabindex="-1">Laravel 性能优化 <a class="header-anchor" href="#laravel-性能优化" aria-label="Permalink to &quot;Laravel 性能优化&quot;">​</a></h1><h2 id="wherein-替换-wherehas" tabindex="-1">whereIn 替换 whereHas <a class="header-anchor" href="#wherein-替换-wherehas" aria-label="Permalink to &quot;whereIn 替换 whereHas&quot;">​</a></h2><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#BABED8;">user</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">whereHas</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">articles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>\n<span class="line"></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">where</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">exists</span><span style="color:#BABED8;"> (</span><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">*</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">articles</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">where</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;">.</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">articles</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;">.</span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">user_id</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;">)</span></span>\n<span class="line"></span></code></pre></div><p>替换为</p><div class="language-php"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">$</span><span style="color:#BABED8;">user</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">whereIn</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#89DDFF;">($</span><span style="color:#BABED8;">q</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>\n<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">$</span><span style="color:#BABED8;">q</span><span style="color:#89DDFF;">-&gt;</span><span style="color:#82AAFF;">select</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">user_id</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">)-&gt;</span><span style="color:#82AAFF;">from</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">articles</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">);</span></span>\n<span class="line"><span style="color:#89DDFF;">});</span></span>\n<span class="line"></span></code></pre></div><div class="language-sql"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">*</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">users</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">where</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">id</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">in</span><span style="color:#BABED8;"> (</span><span style="color:#F78C6C;">select</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">user_id</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;"> </span><span style="color:#F78C6C;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">`</span><span style="color:#C3E88D;">articles</span><span style="color:#89DDFF;">`</span><span style="color:#BABED8;">)</span></span>\n<span class="line"></span></code></pre></div>',7),e=[o];function t(r,c,D,y,F,i){return a(),l("div",null,e)}const E=s(p,[["render",t]]);export{C as __pageData,E as default};
