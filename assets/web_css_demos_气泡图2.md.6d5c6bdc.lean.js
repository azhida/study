import{_ as A,o as e,c as t,x as n,F as y,M as u,Y as r,t as i,C as m,a as E,Q as b}from"./chunks/framework.aaef0e9b.js";import{s as B}from"./chunks/shuffle.166bba34.js";import{m as C,s as d}from"./chunks/sumBy.3d872791.js";import{r as p}from"./chunks/random.9aa7cb45.js";import"./chunks/shuffleSelf.551cae05.js";import"./chunks/baseRandom.5a8199cf.js";const h={data(){return{maxWidth:500,maxHeight:200,minValue:0,maxValue:0,sumValue:0,baseRate:0,bubbleItems:[{name:"A",value:100,startColor:"#251571",endColor:"#5a41dd",symbolSize:0},{name:"A+",value:200,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:300,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:400,startColor:"#251571",endColor:"#926710"},{name:"C",value:600,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:700,startColor:"#251571",endColor:"#5a41dd"},{name:"A",value:100,startColor:"#251571",endColor:"#5a41dd",symbolSize:0},{name:"A+",value:200,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:300,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:400,startColor:"#251571",endColor:"#926710"},{name:"C",value:600,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:700,startColor:"#251571",endColor:"#5a41dd"}]}},mounted(){this.bubbleItems=B(this.bubbleItems),this.calculateValues()},methods:{calculateValues(){this.minValue=C(this.bubbleItems,"value").value,this.maxValue=C(this.bubbleItems,"value").value,this.sumValue=d(this.bubbleItems,"value"),this.baseRate=(this.maxWidth-(this.bubbleItems.length+1)*5)/this.sumValue,this.baseRate*this.maxValue>this.maxHeight&&(this.baseRate=(this.maxHeight-10)/this.maxValue),this.bubbleItems.forEach((s,a)=>{s.symbolSize=s.value*this.baseRate;var o=this.maxHeight-s.symbolSize;s.translateY=p(-o,o)/2,s.labelScale=this.getLabelScale(s.symbolSize)}),console.log(this.bubbleItems,"this.bubbleItems")},refresh(){this.bubbleItems=B(this.bubbleItems),this.bubbleItems[p(0,this.bubbleItems.length)].value=p(10,5e3),this.bubbleItems[p(0,this.bubbleItems.length)].value=p(10,5e3),this.calculateValues()},itemStyle(s){return{width:s.symbolSize+"px",height:s.symbolSize+"px",translate:"0 "+s.translateY+"px","background-image":"radial-gradient(circle, "+s.startColor+", "+s.endColor+")"}},labelStyle(s){return{scale:s.labelScale}},getLabelScale(s){var a=1;return s<40?a=.7:s<50?a=.8:s<60?a=.9:s<70?a=1:s<80?a=1.1:s<90?a=1.2:s<100?a=1.3:s<110?a=1.4:a=1.5,a}}},f={class:"name"},v={class:"value"};function g(s,a,o,V,F,c){return e(),t(y,null,[n("button",{class:"button",onClick:a[0]||(a[0]=l=>c.refresh())},"刷新"),n("div",{class:"main",style:r({width:F.maxWidth+"px",height:F.maxHeight+"px"})},[(e(!0),t(y,null,u(F.bubbleItems,(l,D)=>(e(),t("div",{class:"box",key:D},[n("div",{class:"item",style:r(c.itemStyle(l,D))},[n("div",{class:"label",style:r(c.labelStyle(l))},[n("div",f,i(l.name),1),n("div",v,i(l.value),1)],4)],4)]))),128))],4)],64)}const x=A(h,[["render",g],["__scopeId","data-v-efc1a29c"]]),_=n("h1",{id:"气泡图",tabindex:"-1"},[E("气泡图 "),n("a",{class:"header-anchor",href:"#气泡图","aria-label":'Permalink to "气泡图"'},"​")],-1),S=n("h2",{id:"效果展示",tabindex:"-1"},[E("效果展示 "),n("a",{class:"header-anchor",href:"#效果展示","aria-label":'Permalink to "效果展示"'},"​")],-1),I=b("",2),W=JSON.parse('{"title":"气泡图","description":"","frontmatter":{},"headers":[],"relativePath":"web/css/demos/气泡图2.md","lastUpdated":1684293591000}'),z={name:"web/css/demos/气泡图2.md"},N=Object.assign(z,{setup(s){return(a,o)=>(e(),t("div",null,[_,S,m(x),I]))}});export{W as __pageData,N as default};
