import{i as E}from"./chunks/index.5fb2bdd5.js";import{_ as u,o as A,c as C,x as t,F as f,N as d,O as b,C as h,a as m,Q as g}from"./chunks/framework.aaef0e9b.js";import{s as v}from"./chunks/sampleSize.9d71933a.js";import{r as S}from"./chunks/random.9aa7cb45.js";import"./chunks/shuffleSelf.551cae05.js";import"./chunks/baseRandom.5a8199cf.js";const _={data(){return{bubbleItems:[{name:"A",value:1,startColor:"#251571",endColor:"#5a41dd"},{name:"A+",value:2,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:3,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:4,startColor:"#251571",endColor:"#926710"},{name:"C",value:5,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:61,startColor:"#251571",endColor:"#5a41dd"}],bubbleItemsTemp:[]}},mounted(){this.bubbleItemsTemp=this.bubbleItems,this.makeChart(),this.makeChart1()},methods:{refresh(){this.bubbleItemsTemp=v(this.bubbleItems,S(1,this.bubbleItems.length)),this.makeChart(),this.makeChart1()},init(){this.bubbleItemsTemp=this.bubbleItems,this.makeChart(),this.makeChart1()},makeChart(){var n=document.getElementById("main"),p=E(n),c,l=this.bubbleItemsTemp,r=l.map(function(s){return s.value}).reduce(function(s,y){return s+y},0),F=Math.max.apply(Math,l.map(function(s){return s.value})),a=70,o=380;l.length>=5&&l.length<10?(a=50,o=230):l.length>=10&&l.length<20?(a=40,o=150):l.length>=20&&(a=30,o=75);var i=l.map(s=>{let y=s.value/r*100,e=s.value*a*2/F;return e<a&&(e=a),s.symbolSize=[e,e],s.draggable=!0,s.label={show:!0,color:"#fff",fontWeight:"bold",align:"center",formatter:["{a|"+s.name+"}","{b|"+y.toFixed(1)+"%}"].join(`
`),rich:{a:{padding:[0,0,5,0]},b:{}}},s.itemStyle={normal:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:s.startColor},{offset:1,color:s.endColor}],global:!1}}},s});c={backgroundColor:"#031c4c",animationEasingUpdate:"bounceIn",series:[{type:"graph",layout:"force",force:{repulsion:o,edgeLength:10},roam:!1,label:{normal:{show:!0,color:"red"}},data:i}]},p.setOption(c),c&&p.setOption(c)},makeChart1(){var n=this.bubbleItemsTemp,c=n.map(function(s){return s.value}).reduce(function(s,y){return s+y},0),l=Math.max.apply(Math,n.map(function(s){return s.value})),D=document.getElementById("main1"),r=E(D),F,a=70,o=380;n.length>=5&&n.length<10?(a=50,o=230):n.length>=10&&n.length<20?(a=40,o=150):n.length>=20&&(a=30,o=75);var i=n.map(s=>{let y=s.value/c*100,e=s.value*a*2/l;return e<a&&(e=a),s.symbolSize=[e,e/2],s.draggable=!0,s.label={show:!0,color:"#fff",fontWeight:"bold",align:"center",formatter:["{a|"+s.name+"}","{b|"+y.toFixed(1)+"%}"].join(`
`),rich:{a:{padding:[0,0,5,0]},b:{}}},s.itemStyle={normal:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:s.startColor},{offset:1,color:s.endColor}],global:!1}}},s});F={backgroundColor:"#031c4c",animationEasingUpdate:"bounceIn",series:[{type:"graph",layout:"force",force:{repulsion:o,edgeLength:10},roam:!1,label:{normal:{show:!0,color:"red"}},data:i}]},r.setOption(F),F&&r.setOption(F)}}},B=n=>(d("data-v-056a6728"),n=n(),b(),n),z=B(()=>t("h4",null,"标题",-1)),x=B(()=>t("div",{id:"main"},null,-1)),I=B(()=>t("div",{id:"main1"},null,-1));function k(n,p,c,l,D,r){return A(),C(f,null,[z,x,t("button",{class:"button",onClick:p[0]||(p[0]=F=>r.refresh())},"刷新"),t("button",{class:"button",onClick:p[1]||(p[1]=F=>r.init())},"初始化"),I],64)}const V=u(_,[["render",k],["__scopeId","data-v-056a6728"]]),q=t("h1",{id:"气泡图",tabindex:"-1"},[m("气泡图 "),t("a",{class:"header-anchor",href:"#气泡图","aria-label":'Permalink to "气泡图"'},"​")],-1),w=t("h2",{id:"效果展示",tabindex:"-1"},[m("效果展示 "),t("a",{class:"header-anchor",href:"#效果展示","aria-label":'Permalink to "效果展示"'},"​")],-1),T=g("",6),L=JSON.parse('{"title":"气泡图","description":"","frontmatter":{},"headers":[],"relativePath":"web/echarts/demos/气泡图.md","lastUpdated":1684137381000}'),O={name:"web/echarts/demos/气泡图.md"},W=Object.assign(O,{setup(n){return(p,c)=>(A(),C("div",null,[q,w,h(V),T]))}});export{L as __pageData,W as default};
