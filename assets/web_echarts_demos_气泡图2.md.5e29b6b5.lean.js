import{i as A}from"./chunks/index.5fb2bdd5.js";import{_ as C,o as D,c as i,x as t,F as f,N as m,O as d,C as u,a as B,Q as h}from"./chunks/framework.aaef0e9b.js";import{s as b}from"./chunks/sampleSize.9d71933a.js";import{r as g}from"./chunks/random.9aa7cb45.js";import"./chunks/shuffleSelf.551cae05.js";import"./chunks/baseRandom.5a8199cf.js";const v={data(){return{bubbleItems:[{name:"A",value:1,startColor:"#251571",endColor:"#5a41dd"},{name:"A+",value:2,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:3,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:4,startColor:"#251571",endColor:"#926710"},{name:"C",value:5,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:61,startColor:"#251571",endColor:"#5a41dd"}],bubbleItemsTemp:[]}},mounted(){this.bubbleItemsTemp=this.bubbleItems,this.makeChart()},methods:{refresh(){this.bubbleItemsTemp=b(this.bubbleItems,g(1,this.bubbleItems.length)),this.makeChart()},init(){this.bubbleItemsTemp=this.bubbleItems,this.makeChart()},drawCircles(l,n,o,c){let e=[],a=0;for(;e.length<l;){let p={x:this.getRandomNumber(n,o-n),y:this.getRandomNumber(n,c-n),radius:n},y=!1;for(let r=0;r<e.length;r++){let s=e[r];if(Math.hypot(p.x-s.x,p.y-s.y)<p.radius+s.radius){y=!0;break}}if(y||e.push(p),a++,a>1e4)break}return e},getRandomNumber(l,n){return Math.floor(Math.random()*(n-l)+l)},makeChart(){var l=document.getElementById("main"),n=A(l),o;let c=this.bubbleItemsTemp;var e=0,a=0;c.forEach((s,F)=>{s.id=F,s.label={normal:{show:!0,color:"#fff"}},s.itemStyle={normal:{color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:s.startColor},{offset:1,color:s.endColor}],global:!1},shadowBlur:16,shadowOffsetY:16,shadowColor:"rgba(0,0,0,0.1)"}},e+=s.value,s.value>=a&&(a=s.value)});var p=Math.round(a*.5);let y=document.getElementById("main").getBoundingClientRect(),r=this.drawCircles(c.length,(a+p)/a*40,y.width,y.height);c.forEach((s,F)=>{r[F]?(s.x=r[F].x,s.y=r[F].y,s.symbolSize=(s.value+p)/a*70,s.label.normal.fontSize=(s.value+p)/a*15):(s.symbolSize=0,s.x=0,s.y=0)}),o={backgroundColor:"#031c4c",title:{},series:[{type:"graph",layout:"none",label:{show:!0,normal:{color:"#fff"}},data:c}]},n.setOption(o),o&&n.setOption(o)}}},E=l=>(m("data-v-9b5f3440"),l=l(),d(),l),_=E(()=>t("h4",null,"标题",-1)),x=E(()=>t("div",{id:"main"},null,-1));function w(l,n,o,c,e,a){return D(),i(f,null,[_,x,t("button",{class:"button",onClick:n[0]||(n[0]=p=>a.refresh())},"刷新"),t("button",{class:"button",onClick:n[1]||(n[1]=p=>a.init())},"初始化")],64)}const S=C(v,[["render",w],["__scopeId","data-v-9b5f3440"]]),k=t("h1",{id:"气泡图",tabindex:"-1"},[B("气泡图 "),t("a",{class:"header-anchor",href:"#气泡图","aria-label":'Permalink to "气泡图"'},"​")],-1),I=t("h2",{id:"效果展示",tabindex:"-1"},[B("效果展示 "),t("a",{class:"header-anchor",href:"#效果展示","aria-label":'Permalink to "效果展示"'},"​")],-1),q=h("",6),P=JSON.parse('{"title":"气泡图","description":"","frontmatter":{},"headers":[],"relativePath":"web/echarts/demos/气泡图2.md","lastUpdated":1684146631000}'),z={name:"web/echarts/demos/气泡图2.md"},$=Object.assign(z,{setup(l){return(n,o)=>(D(),i("div",null,[k,I,u(S),q]))}});export{P as __pageData,$ as default};
