import{i as E}from"./chunks/index.5fb2bdd5.js";import{_ as A,o as c,c as F,Y as C,x as l,F as f,N as m,O as h,C as u,a as D,Q as b}from"./chunks/framework.aaef0e9b.js";import{b as d,a as g,m as v,s as _}from"./chunks/sumBy.3d872791.js";import{s as x}from"./chunks/sampleSize.9d71933a.js";import{r as y}from"./chunks/random.9aa7cb45.js";import"./chunks/baseRandom.5a8199cf.js";import"./chunks/shuffleSelf.551cae05.js";function S(s,a){return s<a}function I(s,a){return s&&s.length?d(s,g(a),S):void 0}const z={data(){return{mainKey:0,mainWight:500,mainHeight:200,bubbleItems:[{name:"A",value:10,startColor:"#251571",endColor:"#5a41dd"},{name:"A+",value:10,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:30,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:40,startColor:"#251571",endColor:"#926710"},{name:"C",value:50,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:60,startColor:"#251571",endColor:"#5a41dd"}],bubbleItemsTemp:[]}},computed:{},mounted(){this.bubbleItemsTemp=this.bubbleItems,this.makeChart()},methods:{minValue(){return I(this.bubbleItemsTemp,"value")},maxValue(){return v(this.bubbleItemsTemp,"value")},sumValue(){return _(this.bubbleItemsTemp,"value")},baseWeight(){return this.mainWight/this.sumValue()},baseHeight(){return this.maxValue()/this.mainHeight},refresh(){this.bubbleItemsTemp=x(this.bubbleItems,y(1,this.bubbleItems.length)),this.makeChart()},init(){this.bubbleItemsTemp=this.bubbleItems,this.makeChart()},makeChart(){var s=document.getElementById("main"),a=E(s),o;let r=this.bubbleItemsTemp;var p=0,e=[];r.forEach((n,P)=>{p+=n.value;var t=12*(1+n.value-this.minValue().value);t>20&&(t=20);var i=(p-n.value/2)*this.baseWeight(),B=y(0+n.value/2,this.mainHeight-n.value/2);e.push({type:"scatter",symbolSize:n.value*this.baseWeight()*.9,color:{type:"radial",x:.5,y:.5,r:.5,colorStops:[{offset:0,color:n.startColor},{offset:1,color:n.endColor}],global:!1},label:{show:!0,color:"#fff",fontWeight:"bold",align:"center",formatter:["{a|"+n.name+"}","{b|"+n.value+"%}"].join(`
`),rich:{a:{fontSize:t},b:{fontSize:t}}},data:[[i,B]]})}),o={grid:{left:0,right:0},xAxis:{interval:50,max:this.mainWight},yAxis:{max:this.mainHeight},series:e},o&&a.setOption(o)}}},k=s=>(m("data-v-f00b4a30"),s=s(),h(),s),T=k(()=>l("h4",null,"标题",-1));function W(s,a,o,r,p,e){return c(),F(f,null,[T,(c(),F("div",{id:"main",key:p.mainKey,style:C({width:p.mainWight+"px",height:p.mainHeight+"px"})},null,4)),l("button",{class:"button",onClick:a[0]||(a[0]=n=>e.refresh())},"刷新"),l("button",{class:"button",onClick:a[1]||(a[1]=n=>e.init())},"初始化")],64)}const q=A(z,[["render",W],["__scopeId","data-v-f00b4a30"]]),V=l("h1",{id:"气泡图",tabindex:"-1"},[D("气泡图 "),l("a",{class:"header-anchor",href:"#气泡图","aria-label":'Permalink to "气泡图"'},"​")],-1),w=l("h2",{id:"效果展示",tabindex:"-1"},[D("效果展示 "),l("a",{class:"header-anchor",href:"#效果展示","aria-label":'Permalink to "效果展示"'},"​")],-1),H=b("",6),L=JSON.parse('{"title":"气泡图","description":"","frontmatter":{},"headers":[],"relativePath":"web/echarts/demos/气泡图3.md","lastUpdated":1684211324000}'),N={name:"web/echarts/demos/气泡图3.md"},Q=Object.assign(N,{setup(s){return(a,o)=>(c(),F("div",null,[V,w,u(q),H]))}});export{L as __pageData,Q as default};
