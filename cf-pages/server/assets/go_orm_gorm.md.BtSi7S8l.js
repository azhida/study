import{_ as a,c as e,o as r,a5 as t}from"./chunks/framework.CJNr4pYi.js";const b=JSON.parse('{"title":"GORM","description":"","frontmatter":{},"headers":[],"relativePath":"go/orm/gorm.md","filePath":"go/orm/gorm.md","lastUpdated":1739345082000}'),o={name:"go/orm/gorm.md"},i=t('<h1 id="gorm" tabindex="-1">GORM <a class="header-anchor" href="#gorm" aria-label="Permalink to &quot;GORM&quot;">​</a></h1><h2 id="模型定义" tabindex="-1">模型定义 <a class="header-anchor" href="#模型定义" aria-label="Permalink to &quot;模型定义&quot;">​</a></h2><h3 id="模型定义-1" tabindex="-1">模型定义 <a class="header-anchor" href="#模型定义-1" aria-label="Permalink to &quot;模型定义&quot;">​</a></h3><h4 id="模型是-go-中标准的-struct" tabindex="-1">模型是 GO 中标准的 struct <a class="header-anchor" href="#模型是-go-中标准的-struct" aria-label="Permalink to &quot;模型是 GO 中标准的 struct&quot;">​</a></h4><h3 id="约定" tabindex="-1">约定 <a class="header-anchor" href="#约定" aria-label="Permalink to &quot;约定&quot;">​</a></h3><h4 id="gorm-倾向于约定-而不是配置" tabindex="-1">gorm 倾向于约定，而不是配置 <a class="header-anchor" href="#gorm-倾向于约定-而不是配置" aria-label="Permalink to &quot;gorm 倾向于约定，而不是配置&quot;">​</a></h4><h5 id="如-默认情况下-gorm-使用-id-作为默认主键-使用结构体名的-蛇形复数-作为表名-字段名的-蛇形-作为列名-并使用-createdat、updatedat-字段追踪创建、更新时间" tabindex="-1">如：默认情况下，GORM 使用 ID 作为默认主键，使用结构体名的 蛇形复数 作为表名，字段名的 蛇形 作为列名，并使用 CreatedAt、UpdatedAt 字段追踪创建、更新时间 <a class="header-anchor" href="#如-默认情况下-gorm-使用-id-作为默认主键-使用结构体名的-蛇形复数-作为表名-字段名的-蛇形-作为列名-并使用-createdat、updatedat-字段追踪创建、更新时间" aria-label="Permalink to &quot;如：默认情况下，GORM 使用 ID 作为默认主键，使用结构体名的 蛇形复数 作为表名，字段名的 蛇形 作为列名，并使用 CreatedAt、UpdatedAt 字段追踪创建、更新时间&quot;">​</a></h5><h3 id="gorm-model" tabindex="-1">gorm.Model <a class="header-anchor" href="#gorm-model" aria-label="Permalink to &quot;gorm.Model&quot;">​</a></h3><h3 id="高级选项" tabindex="-1">高级选项 <a class="header-anchor" href="#高级选项" aria-label="Permalink to &quot;高级选项&quot;">​</a></h3><h3 id="创建、更新时间跟踪" tabindex="-1">创建、更新时间跟踪 <a class="header-anchor" href="#创建、更新时间跟踪" aria-label="Permalink to &quot;创建、更新时间跟踪&quot;">​</a></h3><h3 id="字段标签" tabindex="-1">字段标签 <a class="header-anchor" href="#字段标签" aria-label="Permalink to &quot;字段标签&quot;">​</a></h3><h2 id="连接数据库" tabindex="-1">连接数据库 <a class="header-anchor" href="#连接数据库" aria-label="Permalink to &quot;连接数据库&quot;">​</a></h2><h3 id="mysql" tabindex="-1">MySQL <a class="header-anchor" href="#mysql" aria-label="Permalink to &quot;MySQL&quot;">​</a></h3><h3 id="postgres" tabindex="-1">postgres <a class="header-anchor" href="#postgres" aria-label="Permalink to &quot;postgres&quot;">​</a></h3><h3 id="sqlite" tabindex="-1">sqlite <a class="header-anchor" href="#sqlite" aria-label="Permalink to &quot;sqlite&quot;">​</a></h3><h3 id="sqlserver" tabindex="-1">SQLserver <a class="header-anchor" href="#sqlserver" aria-label="Permalink to &quot;SQLserver&quot;">​</a></h3><h2 id="crud" tabindex="-1">CRUD <a class="header-anchor" href="#crud" aria-label="Permalink to &quot;CRUD&quot;">​</a></h2><h3 id="创建" tabindex="-1">创建 <a class="header-anchor" href="#创建" aria-label="Permalink to &quot;创建&quot;">​</a></h3><h3 id="查询" tabindex="-1">查询 <a class="header-anchor" href="#查询" aria-label="Permalink to &quot;查询&quot;">​</a></h3><h4 id="查询单个记录" tabindex="-1">查询单个记录 <a class="header-anchor" href="#查询单个记录" aria-label="Permalink to &quot;查询单个记录&quot;">​</a></h4><h5 id="db-first-user-获取第一条记录" tabindex="-1">db.First(&amp;user) - // 获取第一条记录 <a class="header-anchor" href="#db-first-user-获取第一条记录" aria-label="Permalink to &quot;db.First(&amp;user) - // 获取第一条记录&quot;">​</a></h5><h5 id="db-take-user-获取一条记录-没有指定排序字段" tabindex="-1">db.Take(&amp;user) - // 获取一条记录，没有指定排序字段 <a class="header-anchor" href="#db-take-user-获取一条记录-没有指定排序字段" aria-label="Permalink to &quot;db.Take(&amp;user) - // 获取一条记录，没有指定排序字段&quot;">​</a></h5><h5 id="db-last-user-获取最后一条记录-主键降序" tabindex="-1">db.Last(&amp;user) - // 获取最后一条记录（主键降序） <a class="header-anchor" href="#db-last-user-获取最后一条记录-主键降序" aria-label="Permalink to &quot;db.Last(&amp;user) - // 获取最后一条记录（主键降序）&quot;">​</a></h5><h5 id="注意-没有找到记录时-他会返回-errrecordnotfound-错误" tabindex="-1">注意：没有找到记录时，他会返回 ErrRecordNotFound 错误 <a class="header-anchor" href="#注意-没有找到记录时-他会返回-errrecordnotfound-错误" aria-label="Permalink to &quot;注意：没有找到记录时，他会返回 ErrRecordNotFound 错误&quot;">​</a></h5><h6 id="检查-errrecordnotfound-错误" tabindex="-1">// 检查 ErrRecordNotFound 错误 <a class="header-anchor" href="#检查-errrecordnotfound-错误" aria-label="Permalink to &quot;// 检查 ErrRecordNotFound 错误&quot;">​</a></h6><h6 id="errors-ls-result-error-gorm-errrecordnotfound" tabindex="-1">errors.ls(result.Error, gorm.ErrRecordNotFound) <a class="header-anchor" href="#errors-ls-result-error-gorm-errrecordnotfound" aria-label="Permalink to &quot;errors.ls(result.Error, gorm.ErrRecordNotFound)&quot;">​</a></h6><h4 id="根据主键查询" tabindex="-1">根据主键查询 <a class="header-anchor" href="#根据主键查询" aria-label="Permalink to &quot;根据主键查询&quot;">​</a></h4><h4 id="根据所有记录" tabindex="-1">根据所有记录 <a class="header-anchor" href="#根据所有记录" aria-label="Permalink to &quot;根据所有记录&quot;">​</a></h4><h4 id="条件查询" tabindex="-1">条件查询 <a class="header-anchor" href="#条件查询" aria-label="Permalink to &quot;条件查询&quot;">​</a></h4><h4 id="查询特定字段" tabindex="-1">查询特定字段 <a class="header-anchor" href="#查询特定字段" aria-label="Permalink to &quot;查询特定字段&quot;">​</a></h4><h5 id="db-select-quot-name-age-quot-find-users" tabindex="-1">db.Select(&quot;name&quot; , &quot;age&quot;).Find(&amp;users) <a class="header-anchor" href="#db-select-quot-name-age-quot-find-users" aria-label="Permalink to &quot;db.Select(&amp;quot;name&quot; ,  &quot;age&amp;quot;).Find(&amp;users)&quot;">​</a></h5><h5 id="db-select-string-name-age-find-users-select-name-age-from-users" tabindex="-1">db.Select([]string{&quot;name&quot;,&quot;age&quot;}).Find(&amp;users) // SELECT name, age FROM users; <a class="header-anchor" href="#db-select-string-name-age-find-users-select-name-age-from-users" aria-label="Permalink to &quot;db.Select([]string{&quot;name&quot;,&quot;age&quot;}).Find(&amp;users) // SELECT name, age FROM users;&quot;">​</a></h5><h4 id="order-排序" tabindex="-1">Order 排序 <a class="header-anchor" href="#order-排序" aria-label="Permalink to &quot;Order 排序&quot;">​</a></h4><h4 id="limit-offset" tabindex="-1">Limit &amp; Offset <a class="header-anchor" href="#limit-offset" aria-label="Permalink to &quot;Limit &amp; Offset&quot;">​</a></h4><h5 id="db-limit-10-offset-5-find-users-select-from-users-offset-5-limit-10" tabindex="-1">db.Limit(10).Offset(5).Find(&amp;users) // SELECT * FROM users OFFSET 5 LIMIT 10; <a class="header-anchor" href="#db-limit-10-offset-5-find-users-select-from-users-offset-5-limit-10" aria-label="Permalink to &quot;db.Limit(10).Offset(5).Find(&amp;users) // SELECT * FROM users OFFSET 5 LIMIT 10;&quot;">​</a></h5><h4 id="group-having" tabindex="-1">Group &amp; Having <a class="header-anchor" href="#group-having" aria-label="Permalink to &quot;Group &amp; Having&quot;">​</a></h4><h4 id="distinct" tabindex="-1">Distinct <a class="header-anchor" href="#distinct" aria-label="Permalink to &quot;Distinct&quot;">​</a></h4><h4 id="joins" tabindex="-1">Joins <a class="header-anchor" href="#joins" aria-label="Permalink to &quot;Joins&quot;">​</a></h4><h4 id="san" tabindex="-1">San <a class="header-anchor" href="#san" aria-label="Permalink to &quot;San&quot;">​</a></h4><h3 id="高级查询" tabindex="-1">高级查询 <a class="header-anchor" href="#高级查询" aria-label="Permalink to &quot;高级查询&quot;">​</a></h3><h4 id="智能选择字段" tabindex="-1">智能选择字段 <a class="header-anchor" href="#智能选择字段" aria-label="Permalink to &quot;智能选择字段&quot;">​</a></h4><h4 id="加锁" tabindex="-1">加锁 <a class="header-anchor" href="#加锁" aria-label="Permalink to &quot;加锁&quot;">​</a></h4><h4 id="子查询" tabindex="-1">子查询 <a class="header-anchor" href="#子查询" aria-label="Permalink to &quot;子查询&quot;">​</a></h4><h4 id="count" tabindex="-1">Count <a class="header-anchor" href="#count" aria-label="Permalink to &quot;Count&quot;">​</a></h4><h3 id="更新" tabindex="-1">更新 <a class="header-anchor" href="#更新" aria-label="Permalink to &quot;更新&quot;">​</a></h3>',45),s=[i];function d(h,l,n,u,c,m){return r(),e("div",null,s)}const f=a(o,[["render",d]]);export{b as __pageData,f as default};
