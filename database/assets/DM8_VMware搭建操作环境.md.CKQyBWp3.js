import{_ as a,c as i,o as n,a3 as l}from"./chunks/framework.D49FT0pj.js";const c=JSON.parse('{"title":"基于 VMware Workstation Pro 搭建操作环境","description":"","frontmatter":{},"headers":[],"relativePath":"DM8/VMware搭建操作环境.md","filePath":"DM8/VMware搭建操作环境.md","lastUpdated":1746585786000}'),e={name:"DM8/VMware搭建操作环境.md"};function t(h,s,p,d,k,r){return n(),i("div",null,s[0]||(s[0]=[l(`<h1 id="基于-vmware-workstation-pro-搭建操作环境" tabindex="-1">基于 VMware Workstation Pro 搭建操作环境 <a class="header-anchor" href="#基于-vmware-workstation-pro-搭建操作环境" aria-label="Permalink to &quot;基于 VMware Workstation Pro 搭建操作环境&quot;">​</a></h1><h2 id="安装-vmware-workstation-pro" tabindex="-1">安装 VMware Workstation Pro <a class="header-anchor" href="#安装-vmware-workstation-pro" aria-label="Permalink to &quot;安装 VMware Workstation Pro&quot;">​</a></h2><p><a href="https://www.vmware.com/" target="_blank" rel="noreferrer">VMware 官网</a></p><p>请自行下载安装 VMware Workstation Pro</p><h2 id="下载银河麒麟镜像" tabindex="-1">下载银河麒麟镜像 <a class="header-anchor" href="#下载银河麒麟镜像" aria-label="Permalink to &quot;下载银河麒麟镜像&quot;">​</a></h2><p>麒麟软件官网：<a href="https://www.kylinos.cn/" target="_blank" rel="noreferrer">https://www.kylinos.cn/</a></p><p>自行下载对应的版本。</p><p>我这里选择：银河麒麟高级服务器操作系统V10/兼容版</p><p>下载太久，先用现有的 <code>Kylin-Server-10-SP2-Release-Build09-20210524-x86_64.iso</code> 来操作。</p><h2 id="创建虚拟机-vm-dm" tabindex="-1">创建虚拟机 vm-dm <a class="header-anchor" href="#创建虚拟机-vm-dm" aria-label="Permalink to &quot;创建虚拟机 vm-dm&quot;">​</a></h2><h3 id="配置宿主机和虚拟机的共享文件夹" tabindex="-1">配置宿主机和虚拟机的共享文件夹 <a class="header-anchor" href="#配置宿主机和虚拟机的共享文件夹" aria-label="Permalink to &quot;配置宿主机和虚拟机的共享文件夹&quot;">​</a></h3><p>安装 <code>vmware tools</code> ，然后鼠标右键将 <code>/run/media/root/VMware Tools/VMwareTools-10.3.23-16594550.tar.gz</code> 加压缩到 <code>/home</code> 目录下，解压后得到文件夹 <code>/home/vmware-tools-distrib</code> 。</p><p>执行安装命令：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/vmware-tools-distrib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./vmware-install.pl</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 一路默认即可</span></span></code></pre></div><h4 id="设置-vm-dm-共享文件夹" tabindex="-1">设置 vm-dm 共享文件夹 <a class="header-anchor" href="#设置-vm-dm-共享文件夹" aria-label="Permalink to &quot;设置 vm-dm 共享文件夹&quot;">​</a></h4><ul><li>选中 vm-dm ，鼠标右键，点击 设置</li><li>点击 选项</li><li>点击 共享文件夹</li><li>点击 总是启用</li><li>点击 添加</li><li>自行选择 共享的文件夹，我的是 <code>D:/vm-share</code> ，名称 <code>vm-share</code> , 然后点击 确认</li></ul><p>此时 vm-dm 虚拟机里面会多了一个文件夹 <code>/mnt/hgfs/vm-share</code> ，共享文件夹配置结束 。</p><h2 id="在宿主机使用-ssh-连接-vm-dm-虚拟机" tabindex="-1">在宿主机使用 ssh 连接 vm-dm 虚拟机 <a class="header-anchor" href="#在宿主机使用-ssh-连接-vm-dm-虚拟机" aria-label="Permalink to &quot;在宿主机使用 ssh 连接 vm-dm 虚拟机&quot;">​</a></h2><p>vm-dm 的网络适配器 选择 <code>NAT 模式</code>。</p><p>vm-dm 虚拟机创建成功并启动后，先在 vm-dm 里面选择一个可用的网络。</p><p>vm-dm 里面查看网络信息。</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ifconfig</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ens33: flags=4613&lt;...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#         inet 192.168.234.130  ...</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#         ...</span></span></code></pre></div><p>说明 vm-dm 的 ip 地址为 <code>192.168.234.130</code> 。</p><h3 id="做宿主机和虚拟机的网络映射" tabindex="-1">做宿主机和虚拟机的网络映射 <a class="header-anchor" href="#做宿主机和虚拟机的网络映射" aria-label="Permalink to &quot;做宿主机和虚拟机的网络映射&quot;">​</a></h3><ul><li>点击 VMware Workstation Pro 软件菜单栏 <code>编辑</code> 按钮</li><li>点击 虚拟网络编辑器</li><li>弹出框右下角点击 更改设置 (需要具备管理员特权才能修改网络配置。)</li><li>选中类型为 <code>NAT 模式</code> 的网卡，并点击 <code>NAT 设置</code></li><li>在 NAT 设置 弹出框中操作： <ul><li>点击 <code>添加</code></li><li>主机端口：9022</li><li>类型：TCP</li><li>虚拟机IP地址：192.168.234.130</li><li>虚拟机端口：22</li><li>点击确定</li></ul></li><li>点击确定</li><li>点击应用，点击确定</li></ul><p>此时，映射已经做好。</p><h3 id="宿主机-ssh-连接-vm-dm" tabindex="-1">宿主机 ssh 连接 vm-dm <a class="header-anchor" href="#宿主机-ssh-连接-vm-dm" aria-label="Permalink to &quot;宿主机 ssh 连接 vm-dm&quot;">​</a></h3><p>打开 cmd 命令行，执行</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root@127.0.0.1</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9022</span></span></code></pre></div><p>按要求输入 vm-dm 的 root 密码就可以接上了。</p><h2 id="安装-dm8" tabindex="-1">安装 DM8 <a class="header-anchor" href="#安装-dm8" aria-label="Permalink to &quot;安装 DM8&quot;">​</a></h2><h3 id="下载-dm8-安装包" tabindex="-1">下载 DM8 安装包 <a class="header-anchor" href="#下载-dm8-安装包" aria-label="Permalink to &quot;下载 DM8 安装包&quot;">​</a></h3><p><a href="https://eco.dameng.com/download/" target="_blank" rel="noreferrer">https://eco.dameng.com/download/</a></p><p>选择合适的版本。</p><p>这里我先用 <code>dm8_20231109_x86_kylin10_64.iso</code> 来操作。</p><h3 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># root</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/hgfs/vm-share/dm8_20231109_x86_kylin10_64.iso</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">groupadd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dinstall</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useradd</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dinstall</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/dmdba</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -s</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /bin/bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmdba</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">passwd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmdba</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 按提示输入密码即可</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 做安装目录</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dm8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ld</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dm8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmdba:dinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dm8</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ls</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -ld</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /dm8</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 挂载 iso 镜像文件</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/dm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mount</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/dm8_20231109_x86_kylin10_64.iso</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/dm</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解决安装时报错 /tmp 空间不足的问题</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/tmp</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chown</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmdba:dinstall</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/tmp</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 或</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">chmod</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 777</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /opt/tmp</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">su</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dmdba</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># dmdba</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 解决安装时报错 /tmp 空间不足的问题</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> DM_INSTALL_TMPDIR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">/opt/tmp</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /mnt/dm</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ll</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">./DMInstall.bin</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span></span></code></pre></div><h3 id="卸载-dm-数据库" tabindex="-1">卸载 DM 数据库 <a class="header-anchor" href="#卸载-dm-数据库" aria-label="Permalink to &quot;卸载 DM 数据库&quot;">​</a></h3><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># dmdba</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> /dm8/uninstall.sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -i</span></span></code></pre></div>`,39)]))}const m=a(e,[["render",t]]);export{c as __pageData,m as default};
