import{_ as a,c as i,o as n,a3 as e}from"./chunks/framework.D49FT0pj.js";const g=JSON.parse('{"title":"MongoDB","description":"","frontmatter":{},"headers":[],"relativePath":"MongoDB/index.md","filePath":"MongoDB/index.md","lastUpdated":1746585786000}'),l={name:"MongoDB/index.md"};function t(p,s,o,h,r,d){return n(),i("div",null,s[0]||(s[0]=[e(`<h1 id="mongodb" tabindex="-1">MongoDB <a class="header-anchor" href="#mongodb" aria-label="Permalink to &quot;MongoDB&quot;">​</a></h1><h2 id="简介" tabindex="-1">简介 <a class="header-anchor" href="#简介" aria-label="Permalink to &quot;简介&quot;">​</a></h2><p>MongoDB是一个跨平台的，面向文档的数据库，可提供高性能，高可用性和易扩展性。MongoDB致力于收集和文档的概念。</p><ul><li>官网</li></ul><p><a href="https://www.mongodb.com" target="_blank" rel="noreferrer">https://www.mongodb.com</a></p><h2 id="安装" tabindex="-1">安装 <a class="header-anchor" href="#安装" aria-label="Permalink to &quot;安装&quot;">​</a></h2><ul><li>下载地址</li></ul><p><a href="https://www.mongodb.com/try/download/community" target="_blank" rel="noreferrer">https://www.mongodb.com/try/download/community</a></p><h3 id="windows-环境" tabindex="-1">windows 环境 <a class="header-anchor" href="#windows-环境" aria-label="Permalink to &quot;windows 环境&quot;">​</a></h3><ul><li>下载地址 windows</li></ul><p><a href="https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.6-signed.msi" target="_blank" rel="noreferrer">https://fastdl.mongodb.org/windows/mongodb-windows-x86_64-7.0.6-signed.msi</a></p><ul><li>安装目录</li></ul><p><code>D:\\MongoDB\\Server\\7.0</code></p><h4 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 管理员身份运行 CMD</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 启动 MongoDB 服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 停止 MongoDB 服务</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">net</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stop</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> MongoDB</span></span></code></pre></div><h3 id="docker-环境" tabindex="-1">docker 环境 <a class="header-anchor" href="#docker-环境" aria-label="Permalink to &quot;docker 环境&quot;">​</a></h3><ul><li>文档：<a href="https://www.mongodb.com/docs/manual/tutorial/install-mongodb-community-with-docker/" target="_blank" rel="noreferrer">https://www.mongodb.com/docs/manual/tutorial/install-mongodb-community-with-docker/</a></li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongodb/mongodb-community-server</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># –auth：访问mongo需要鉴权(账号密码访问),这个参数要放在最后面，否则会报错</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 27017:27017</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongodb/mongodb-community-server:latest</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --auth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 27017:27017</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongodb/mongodb-community-server:latest</span></span></code></pre></div><h2 id="创建mongodb用户" tabindex="-1">创建MongoDB用户 <a class="header-anchor" href="#创建mongodb用户" aria-label="Permalink to &quot;创建MongoDB用户&quot;">​</a></h2><h4 id="创建用户" tabindex="-1">创建用户 <a class="header-anchor" href="#创建用户" aria-label="Permalink to &quot;创建用户&quot;">​</a></h4><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 进入容器内部的命令行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -it</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> mongosh</span></span></code></pre></div><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 以下命令是在 mongosh 命令行执行</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 创建用户</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">db.createUser(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user:&#39;admin&#39;,pwd:&#39;123456&#39;,roles:[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> role:&#39;userAdminAnyDatabase&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> db:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin&#39;}]}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># { ok: 1 }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 验证用户</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">db.auth(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">{user:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;admin&#39;,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pwd:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;123456&#39;}</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># { ok: 1 }</span></span></code></pre></div><h2 id="mongo-用户权限" tabindex="-1">mongo 用户权限 <a class="header-anchor" href="#mongo-用户权限" aria-label="Permalink to &quot;mongo 用户权限&quot;">​</a></h2><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>read：允许用户读取指定数据库</span></span>
<span class="line"><span>readWrite：允许用户读写指定数据库</span></span>
<span class="line"><span>dbAdmin：允许用户在指定数据库中执行管理函数，如索引创建、删除、查看统计或访问system.profile</span></span>
<span class="line"><span>dbOwner：允许用户在指定数据库中执行任意操作，增、删、改、查等</span></span>
<span class="line"><span>clusterAdmin：只在admin数据库中可用，赋予用户所有分片和复制集相关函数的管理权限</span></span>
<span class="line"><span>readAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读权限</span></span>
<span class="line"><span>readWriteAnyDatabase：只在admin库中可用，赋予用户所有数据库的读权限</span></span>
<span class="line"><span>userAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库userAdmin权限</span></span>
<span class="line"><span>dbAdminAnyDatabase: 只在admin数据库中可用，赋予用户所有数据库dbAdmin权限</span></span>
<span class="line"><span>root：只在admin数据库中可用。超级管理员用户，超级权限</span></span></code></pre></div><h2 id="laravel-中集成-mongodb" tabindex="-1">laravel 中集成 mongodb <a class="header-anchor" href="#laravel-中集成-mongodb" aria-label="Permalink to &quot;laravel 中集成 mongodb&quot;">​</a></h2><ul><li>文档：<a href="https://www.mongodb.com/docs/drivers/php-drivers/" target="_blank" rel="noreferrer">https://www.mongodb.com/docs/drivers/php-drivers/</a></li><li>mongodb 扩展：<a href="https://www.php.net/manual/en/mongodb.installation.pecl.php" target="_blank" rel="noreferrer">https://www.php.net/manual/en/mongodb.installation.pecl.php</a></li><li>mongodb 扩展：<a href="https://github.com/mongodb/mongo-php-driver/releases" target="_blank" rel="noreferrer">https://github.com/mongodb/mongo-php-driver/releases</a></li><li>mongodb 扩展(windows php8.2)：<a href="https://github.com/mongodb/mongo-php-driver/releases/download/1.17.2/php_mongodb-1.17.2-8.2-nts-x64.zip" target="_blank" rel="noreferrer">https://github.com/mongodb/mongo-php-driver/releases/download/1.17.2/php_mongodb-1.17.2-8.2-nts-x64.zip</a></li></ul>`,26)]))}const c=a(l,[["render",t]]);export{g as __pageData,c as default};
