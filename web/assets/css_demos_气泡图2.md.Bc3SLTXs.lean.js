import{_ as c,o as l,c as t,j as a,F as d,D as B,P as e,t as g,I as o,a as C,a3 as u}from"./chunks/framework.CDwh3-Fg.js";import{s as y}from"./chunks/shuffle.BkGeaBZP.js";import{m as F,s as m}from"./chunks/sumBy.BdK1T8lm.js";import{r as n}from"./chunks/random.HOIHlcgo.js";import"./chunks/shuffleSelf.S0Xght0P.js";import"./chunks/baseRandom.CSNgMftP.js";const b={data(){return{maxWidth:500,maxHeight:200,minValue:0,maxValue:0,sumValue:0,baseRate:0,bubbleItems:[{name:"A",value:100,startColor:"#251571",endColor:"#5a41dd",symbolSize:0},{name:"A+",value:200,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:300,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:400,startColor:"#251571",endColor:"#926710"},{name:"C",value:600,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:700,startColor:"#251571",endColor:"#5a41dd"},{name:"A",value:100,startColor:"#251571",endColor:"#5a41dd",symbolSize:0},{name:"A+",value:200,startColor:"#251571",endColor:"#24ac82"},{name:"B",value:300,startColor:"#251571",endColor:"#0173e4"},{name:"B+",value:400,startColor:"#251571",endColor:"#926710"},{name:"C",value:600,startColor:"#251571",endColor:"#5a41dd"},{name:"C+",value:700,startColor:"#251571",endColor:"#5a41dd"}]}},mounted(){this.bubbleItems=y(this.bubbleItems),this.calculateValues()},methods:{calculateValues(){this.minValue=F(this.bubbleItems,"value").value,this.maxValue=F(this.bubbleItems,"value").value,this.sumValue=m(this.bubbleItems,"value"),this.baseRate=(this.maxWidth-(this.bubbleItems.length+1)*5)/this.sumValue,this.baseRate*this.maxValue>this.maxHeight&&(this.baseRate=(this.maxHeight-10)/this.maxValue),this.bubbleItems.forEach((s,i)=>{s.symbolSize=s.value*this.baseRate;var k=this.maxHeight-s.symbolSize;s.translateY=n(-k,k)/2,s.labelScale=this.getLabelScale(s.symbolSize)}),console.log(this.bubbleItems,"this.bubbleItems")},refresh(){this.bubbleItems=y(this.bubbleItems),this.bubbleItems[n(0,this.bubbleItems.length)].value=n(10,5e3),this.bubbleItems[n(0,this.bubbleItems.length)].value=n(10,5e3),this.calculateValues()},itemStyle(s){return{width:s.symbolSize+"px",height:s.symbolSize+"px",translate:"0 "+s.translateY+"px","background-image":"radial-gradient(circle, "+s.startColor+", "+s.endColor+")"}},labelStyle(s){return{scale:s.labelScale}},getLabelScale(s){var i=1;return s<40?i=.7:s<50?i=.8:s<60?i=.9:s<70?i=1:s<80?i=1.1:s<90?i=1.2:s<100?i=1.3:s<110?i=1.4:i=1.5,i}}},A={class:"name"},D={class:"value"};function v(s,i,k,z,p,E){return l(),t(d,null,[a("button",{class:"button",onClick:i[0]||(i[0]=h=>E.refresh())},"刷新"),a("div",{class:"main",style:e({width:p.maxWidth+"px",height:p.maxHeight+"px"})},[(l(!0),t(d,null,B(p.bubbleItems,(h,r)=>(l(),t("div",{class:"box",key:r},[a("div",{class:"item",style:e(E.itemStyle(h,r))},[a("div",{class:"label",style:e(E.labelStyle(h))},[a("div",A,g(h.name),1),a("div",D,g(h.value),1)],4)],4)]))),128))],4)],64)}const f=c(b,[["render",v],["__scopeId","data-v-33d32a19"]]),x=a("h1",{id:"气泡图",tabindex:"-1"},[C("气泡图 "),a("a",{class:"header-anchor",href:"#气泡图","aria-label":'Permalink to "气泡图"'},"​")],-1),_=a("h2",{id:"效果展示",tabindex:"-1"},[C("效果展示 "),a("a",{class:"header-anchor",href:"#效果展示","aria-label":'Permalink to "效果展示"'},"​")],-1),I=u("",2),T=JSON.parse('{"title":"气泡图","description":"","frontmatter":{},"headers":[],"relativePath":"css/demos/气泡图2.md","filePath":"css/demos/气泡图2.md","lastUpdated":1722500431000}'),S={name:"css/demos/气泡图2.md"},W=Object.assign(S,{setup(s){return(i,k)=>(l(),t("div",null,[x,_,o(f),I]))}});export{T as __pageData,W as default};
